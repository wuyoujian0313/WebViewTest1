/*!
 * mime
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
!function(e){"use strict";e&&"undefined"==typeof e.mime&&(e.mime={apk:"application/vnd.android.package-archive",avi:"video/x-msvideo",bin:"application/octet-stream",cab:"application/x-cabinet",css:"text/css",csv:"text/comma-separated-values",dll:"application/x-msdownload",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",exe:"application/octet-stream",gif:"image/gif",gtar:"application/x-gtar",gz:"application/gzip",gzip:"application/gzip",htc:"text/x-component",htm:"text/html",html:"text/html",ico:"image/x-icon",jar:"application/java-archive",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",mid:"audio/midi",midi:"audio/midi",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",msi:"application/octet-stream",odb:"application/vnd.oasis.opendocument.database",odc:"application/vnd.oasis.opendocument.chart",odf:"application/vnd.oasis.opendocument.formula",odg:"application/vnd.oasis.opendocument.graphics",odi:"application/vnd.oasis.opendocument.image",odm:"application/vnd.oasis.opendocument.text-master",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",otc:"application/vnd.oasis.opendocument.chart-template",otf:"application/vnd.oasis.opendocument.formula-template",otg:"application/vnd.oasis.opendocument.graphics-template",oth:"application/vnd.oasis.opendocument.text-web",oti:"application/vnd.oasis.opendocument.image-template",otp:"application/vnd.oasis.opendocument.presentation-template",ots:"application/vnd.oasis.opendocument.spreadsheet-template",ott:"application/vnd.oasis.opendocument.text-template",pdf:"application/pdf",png:"image/png",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",rm:"audio/x-pn-realaudio",rpm:"application/x-rpm",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tgz:"application/x-gtar",txt:"text/plain",wav:"audio/x-wav",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",zip:"application/zip"})}(window.Wade),/*!
 * md5
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
function(e,t,n){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,a=-1732584194,u=271733878,d=0;d<e.length;d+=16){var p=n,f=r,h=a,g=u;n=i(n,r,a,u,e[d+0],7,-680876936),u=i(u,n,r,a,e[d+1],12,-389564586),a=i(a,u,n,r,e[d+2],17,606105819),r=i(r,a,u,n,e[d+3],22,-1044525330),n=i(n,r,a,u,e[d+4],7,-176418897),u=i(u,n,r,a,e[d+5],12,1200080426),a=i(a,u,n,r,e[d+6],17,-1473231341),r=i(r,a,u,n,e[d+7],22,-45705983),n=i(n,r,a,u,e[d+8],7,1770035416),u=i(u,n,r,a,e[d+9],12,-1958414417),a=i(a,u,n,r,e[d+10],17,-42063),r=i(r,a,u,n,e[d+11],22,-1990404162),n=i(n,r,a,u,e[d+12],7,1804603682),u=i(u,n,r,a,e[d+13],12,-40341101),a=i(a,u,n,r,e[d+14],17,-1502002290),r=i(r,a,u,n,e[d+15],22,1236535329),n=s(n,r,a,u,e[d+1],5,-165796510),u=s(u,n,r,a,e[d+6],9,-1069501632),a=s(a,u,n,r,e[d+11],14,643717713),r=s(r,a,u,n,e[d+0],20,-373897302),n=s(n,r,a,u,e[d+5],5,-701558691),u=s(u,n,r,a,e[d+10],9,38016083),a=s(a,u,n,r,e[d+15],14,-660478335),r=s(r,a,u,n,e[d+4],20,-405537848),n=s(n,r,a,u,e[d+9],5,568446438),u=s(u,n,r,a,e[d+14],9,-1019803690),a=s(a,u,n,r,e[d+3],14,-187363961),r=s(r,a,u,n,e[d+8],20,1163531501),n=s(n,r,a,u,e[d+13],5,-1444681467),u=s(u,n,r,a,e[d+2],9,-51403784),a=s(a,u,n,r,e[d+7],14,1735328473),r=s(r,a,u,n,e[d+12],20,-1926607734),n=o(n,r,a,u,e[d+5],4,-378558),u=o(u,n,r,a,e[d+8],11,-2022574463),a=o(a,u,n,r,e[d+11],16,1839030562),r=o(r,a,u,n,e[d+14],23,-35309556),n=o(n,r,a,u,e[d+1],4,-1530992060),u=o(u,n,r,a,e[d+4],11,1272893353),a=o(a,u,n,r,e[d+7],16,-155497632),r=o(r,a,u,n,e[d+10],23,-1094730640),n=o(n,r,a,u,e[d+13],4,681279174),u=o(u,n,r,a,e[d+0],11,-358537222),a=o(a,u,n,r,e[d+3],16,-722521979),r=o(r,a,u,n,e[d+6],23,76029189),n=o(n,r,a,u,e[d+9],4,-640364487),u=o(u,n,r,a,e[d+12],11,-421815835),a=o(a,u,n,r,e[d+15],16,530742520),r=o(r,a,u,n,e[d+2],23,-995338651),n=c(n,r,a,u,e[d+0],6,-198630844),u=c(u,n,r,a,e[d+7],10,1126891415),a=c(a,u,n,r,e[d+14],15,-1416354905),r=c(r,a,u,n,e[d+5],21,-57434055),n=c(n,r,a,u,e[d+12],6,1700485571),u=c(u,n,r,a,e[d+3],10,-1894986606),a=c(a,u,n,r,e[d+10],15,-1051523),r=c(r,a,u,n,e[d+1],21,-2054922799),n=c(n,r,a,u,e[d+8],6,1873313359),u=c(u,n,r,a,e[d+15],10,-30611744),a=c(a,u,n,r,e[d+6],15,-1560198380),r=c(r,a,u,n,e[d+13],21,1309151649),n=c(n,r,a,u,e[d+4],6,-145523070),u=c(u,n,r,a,e[d+11],10,-1120210379),a=c(a,u,n,r,e[d+2],15,718787259),r=c(r,a,u,n,e[d+9],21,-343485551),n=l(n,p),r=l(r,f),a=l(a,h),u=l(u,g)}return 16==b?Array(r,a):Array(n,r,a,u)}function a(e,t,n,r,a,i){return l(d(l(l(t,e),l(r,i)),a),n)}function i(e,t,n,r,i,s,o){return a(t&n|~t&r,e,t,i,s,o)}function s(e,t,n,r,i,s,o){return a(t&r|n&~r,e,t,i,s,o)}function o(e,t,n,r,i,s,o){return a(t^n^r,e,t,i,s,o)}function c(e,t,n,r,i,s,o){return a(n^(t|~r),e,t,i,s,o)}function u(e,t){var n=p(e);n.length>16&&(n=r(n,e.length*y));for(var a=Array(16),i=Array(16),s=0;s<16;s++)a[s]=909522486^n[s],i[s]=1549556828^n[s];var o=r(a.concat(p(t)),512+t.length*y);return r(i.concat(o),640)}function l(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function d(e,t){return e<<t|e>>>32-t}function p(e){for(var t=Array(),n=(1<<y)-1,r=0;r<e.length*y;r+=y)t[r>>5]|=(e.charCodeAt(r/y)&n)<<r%32;return t}function f(e){for(var t="",n=(1<<y)-1,r=0;r<32*e.length;r+=y)t+=String.fromCharCode(e[r>>5]>>>r%32&n);return t}function h(e){for(var t=m?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n}function g(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0;r<4*e.length;r+=3)for(var a=(e[r>>2]>>8*(r%4)&255)<<16|(e[r+1>>2]>>8*((r+1)%4)&255)<<8|e[r+2>>2]>>8*((r+2)%4)&255,i=0;i<4;i++)n+=8*r+6*i>32*e.length?v:t.charAt(a>>6*(3-i)&63);return n}var m=0,v="",y=8,b=32;e.extend({md5:function(e){return this.hex_md5(e)},md5_3:function(e){var t=new Array;return t=r(p(e),e.length*y),t=r(t,16*y),t=r(t,16*y),h(t)},hex_md5:function(e){return h(r(p(e),e.length*y))},b64_md5:function(e){return g(r(p(e),e.length*y))},str_md5:function(e){return f(r(p(e),e.length*y))},hex_hmac_md5:function(e,t){return h(u(e,t))},b64_hmac_md5:function(e,t){return g(u(e,t))},str_hmac_md5:function(e,t){return f(u(e,t))}})}(window.Wade,window,document),/*!
 * data
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
function(e,t,n){"use strict";var r=function(e){return e.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")};e.Collection=function(e,t){this.items=[],this.map={},this.keys=[],this.length=0,this.allowFunctions=e===!0,t&&(this.getKey=t)},e.Collection.prototype={allowFunctions:!1,add:function(e,t){if(1==arguments.length&&(t=arguments[0],e=this.getKey(t)),"undefined"!=typeof e&&null!==e){var n=this.map[e];if("undefined"!=typeof n)return this.replace(e,t);this.map[e]=t}return this.length++,this.items.push(t),this.keys.push(e),t},getKey:function(e){return e.id},replace:function(e,t){1==arguments.length&&(t=arguments[0],e=this.getKey(t));var n=this.map[e];if("undefined"==typeof e||null===e||"undefined"==typeof n)return this.add(e,t);var r=this.indexOfKey(e);return this.items[r]=t,this.map[e]=t,t},addAll:function(t){if(arguments.length>1||e.isArray(t))for(var n=arguments.length>1?arguments:t,r=0,a=n.length;r<a;r++)this.add(n[r]);else for(var i in t)(this.allowFunctions||"function"!=typeof t[i])&&this.add(i,t[i])},each:function(e,t){for(var n=[].concat(this.items),r=0,a=n.length;r<a&&e.call(t||n[r],n[r],r,a)!==!1;r++);},eachKey:function(e,n){for(var r=0,a=this.keys.length;r<a;r++)e.call(n||t,this.keys[r],this.items[r],r,a)},find:function(e,n){for(var r=0,a=this.items.length;r<a;r++)if(e.call(n||t,this.items[r],this.keys[r]))return this.items[r];return null},insert:function(e,t,n){return 2==arguments.length&&(n=arguments[1],t=this.getKey(n)),this.containsKey(t)&&(this.suspendEvents(),this.removeKey(t),this.resumeEvents()),e>=this.length?this.add(t,n):(this.length++,this.items.splice(e,0,n),"undefined"!=typeof t&&null!==t&&(this.map[t]=n),this.keys.splice(e,0,t),n)},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){if(e<this.length&&e>=0){this.length--;var t=this.items[e];this.items.splice(e,1);var n=this.keys[e];return"undefined"!=typeof n&&delete this.map[n],this.keys.splice(e,1),t}return!1},removeKey:function(e){return this.removeAt(this.indexOfKey(e))},getCount:function(){return this.length},indexOf:function(t){return e.inArray(t,this.items)},indexOfKey:function(t){return e.inArray(t,this.keys)},item:function(e){var t=this.map[e],n=void 0!==t?t:"number"==typeof e?this.items[e]:void 0;return"function"!=typeof n||this.allowFunctions?n:null},itemAt:function(e){return this.items[e]},key:function(e){return this.map[e]},contains:function(e){return this.indexOf(e)!=-1},containsKey:function(e){return"undefined"!=typeof this.map[e]},clear:function(){this.length=0,this.items=[],this.keys=[],this.map={}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(e,t,n){var r,a,i="DESC"==String(t).toUpperCase()?-1:1,s=[],o=this.keys,c=this.items;for(n=n||function(e,t){return e-t},r=0,a=c.length;r<a;r++)s[s.length]={key:o[r],value:c[r],index:r};for(s.sort(function(t,r){var a=n(t[e],r[e])*i;return 0===a&&(a=t.index<r.index?-1:1),a}),r=0,a=s.length;r<a;r++)c[r]=s[r].value,o[r]=s[r].key},sort:function(e,t){this._sort("value",e,t)},reorder:function(e){this.suspendEvents();var t=this.items,n=0,r=t.length,a=[],i=[];for(oldIndex in e)a[e[oldIndex]]=t[oldIndex];for(n=0;n<r;n++)void 0==e[n]&&i.push(t[n]);for(n=0;n<r;n++)void 0==a[n]&&(a[n]=i.shift());this.clear(),this.addAll(a),this.resumeEvents()},keySort:function(e,t){this._sort("key",e,t||function(e,t){var n=String(e).toUpperCase(),r=String(t).toUpperCase();return n>r?1:n<r?-1:0})},getRange:function(e,t){var n=this.items;if(n.length<1)return[];e=e||0,t=Math.min("undefined"==typeof t?this.length-1:t,this.length-1);var r,a=[];if(e<=t)for(r=e;r<=t;r++)a[a.length]=n[r];else for(r=e;r>=t;r--)a[a.length]=n[r];return a},filter:function(e,t,n,r){return t?(t=this.createValueMatcher(t,n,r),this.filterBy(function(n){return n&&t.test(n[e])})):this.clone()},filterBy:function(t,n){var r=new e.Collection;r.getKey=this.getKey;for(var a=this.keys,i=this.items,s=0,o=i.length;s<o;s++)t.call(n||this,i[s],a[s])&&r.add(a[s],i[s]);return r},findIndex:function(e,t,n,r,a){return t?(t=this.createValueMatcher(t,r,a),this.findIndexBy(function(n){return n&&t.test(n[e])},null,n)):-1},findIndexBy:function(e,t,n){for(var r=this.keys,a=this.items,i=n||0,s=a.length;i<s;i++)if(e.call(t||this,a[i],r[i]))return i;return-1},createValueMatcher:function(e,t,n,a){return e.exec||(e=String(e),t===!0?e=r(e):(e="^"+r(e),a===!0&&(e+="$")),e=new RegExp(e,n?"":"i")),e},clone:function(){for(var t=new e.Collection,n=this.keys,r=this.items,a=0,i=r.length;a<i;a++)t.add(n[a],r[a]);return t.getKey=this.getKey,t}},e.extend({parseJsonString:function(t){function n(e){var t;switch(e){case",":t="!~4~!";break;case"\\":t="!~8~!";break;default:t=e}return t}if(!t)return"";t=t.replace(/([:{}\[\]\"])[\s|\u00A0]+/g,"$1"),t=t.replace(/[\s|\u00A0]+([:{}\[\]\"])/g,"$1"),t=t.replace(/,([^\":{}\[\]]+):\"/g,function(t,n){return',"'+e.trim(n)+'":"'}),t=t.replace(/,([^\":{}\[\]]+):\{/g,function(t,n){return',"'+e.trim(n)+'":{'}),t=t.replace(/,([^\":{}\[\]]+):\[/g,function(t,n){return',"'+e.trim(n)+'":['}),t=t.replace(/\{([^\":{}\[\]]+):\"/g,function(t,n){return'{"'+e.trim(n)+'":"'}),t=t.replace(/\{([^\":{}\[\]]+):\{/g,function(t,n){return'{"'+e.trim(n)+'":{'}),t=t.replace(/\{([^\":{}\[\]]+):\[/g,function(t,n){return'{"'+e.trim(n)+'":['}),t=t.replace(/:\"([\\]+)\"/g,function(e,t){return t&&(t=t.replace(/\\/g,"!~9~!")),':"'+t+'"'});var r=[];if(t=t.replace(/\"([^\"]+)\":\"([^\"]+)\",\"([^\"]+)\"/g,function(e,t,a,i){if(a){for(var s="",o=0;o<a.length;o++){var c=a.charAt(o);s+=n(c)}a=s,r.push(i)}return'"'+t+'":"'+a+'","'+i+'"'}),t=t.replace(/\"([^\"]+)\":\"([^\"]+)\"}/g,function(e,t,r){if(r){for(var a="",i=0;i<r.length;i++){var s=r.charAt(i);a+=n(s)}r=a}return'"'+t+'":"'+r+'"}'}),r.length)for(var a=0;a<r.length;a++){var i=r[a];i&&(t=t.replace(new RegExp('"'+i+'":"([^"]+)","([^"]+)"',"m"),function(e,t,r){if(t){for(var a="",s=0;s<t.length;s++){var o=t.charAt(s);a+=n(o)}t=a}return'"'+i+'":"'+t+'","'+r+'"'}))}t=t.replace(/\\\":(null|undefined)(,|})/g,'\\":\\"\\"$2'),t=t.replace(/\\\":(true|false)(,|})/g,'\\":\\"$1\\"$2'),t=t.replace(/\\\":(-)?([0-9\.]+)(,|})/g,'\\":\\"$1$2\\"$3'),t=t.replace(/\\\"/g,"!~b~!"),t=t.replace(/:(null|undefined)(,|})/g,':""$2'),t=t.replace(/:(true|false)(,|})/g,':"$1"$2'),t=t.replace(/:(-)?([0-9\.]+)(,|})/g,':"$1$2"$3');for(var s="",o=0;o<t.length;o++){var c=t.charAt(o);switch(c){case"\b":s+="\\b";break;case"\f":s+="\\f";break;case"\r":s+="\\r";break;case"\t":s+="\\t";break;case"\n":s+="\\n";break;case'"':s+="!~a~!";break;default:s+=c}}return t=s,t=t.replace(/{!~a~!/g,'{"'),t=t.replace(/!~a~!}/g,'"}'),t=t.replace(/!~a~!,!~a~!/g,'","'),t=t.replace(/!~a~!:!~a~!/g,'":"'),t=t.replace(/!~a~!:\[/g,'":['),t=t.replace(/\],!~a~!/g,'],"'),t=t.replace(/!~a~!:{/g,'":{'),t=t.replace(/},!~a~!/g,'},"'),t=t.replace(/\u005C!~a~!/g,'\\"'),t=t.replace(/!~a~!/g,'\\"'),t=t.replace(/!~b~!/g,'\\"'),t=t.replace(/<!~8~!\/([a-zA-Z]+)>/g,"</$1>"),t=t.replace(/!~8~!(r|n|t)/g,"\\$1"),t=t.replace(/!~4~!/g,","),t=t.replace(/!~8~!/g,"\\\\"),t=t.replace(/!~9~!/g,"\\\\")},parseJsonValue:function(e){if(!e)return e;for(var t="",n=0;n<e.length;n++){var r=e.charAt(n);switch(r){case"\b":t+="\\b";break;case"\f":t+="\\f";break;case"\r":t+="\\r";break;case"\t":t+="\\t";break;case"\n":t+="\\n";break;case'"':t+='\\"';break;default:t+=r}}return t}}),e.DataMap=function(t){return this.parseString?(e.Collection.call(this),void(t&&(e.isString(t)?this.parseString(t):"object"==typeof t&&this.parseObject(t)))):new e.DataMap(t)},e.DataMap.prototype=new e.Collection,e.extend(e.DataMap.prototype,{get:function(e,t){var n=this.item(e);return arguments.length>1&&("undefined"==typeof n||null==n)?arguments[1]:n},parseString:function(t){t=e.parseJsonString(t),new Function("this.parseObject("+t+")").apply(this)},parseObject:function(t){for(var n in t)t[n]&&e.isArray(t[n])?this.add(n,new e.DatasetList(t[n])):t[n]&&e.isObject(t[n])?this.add(n,new e.DataMap(t[n])):this.add(n,void 0==t[n]||null==t[n]?"":t[n])}}),e.DataMap.prototype.toString=function(){var t=[],n="";for(var r in this.map)n='"'+r+'":',n+="undefined"==typeof this.map[r]||null==this.map[r]?'""':"string"!=typeof this.map[r]&&isNaN(this.map[r])?this.map[r].toString():'"'+e.parseJsonValue(""+this.map[r])+'"',t.push(n);return"{"+t.join(",")+"}"},e.DataMap.prototype.put=e.DataMap.prototype.add,e.DatasetList=function(t){return this.parseString?(this.length=0,"string"==typeof t&&""!=t&&this.parseString(t),void("object"==typeof t&&t instanceof Array&&t.length&&this.parseArray(t))):new e.DatasetList(t)},e.DatasetList.prototype=new Array,e.extend(e.DatasetList.prototype,{add:function(e){this.push(e)},item:function(t,n,r){if(t<this.length&&t>=0){var a=this[t];return"undefined"!=typeof a&&a instanceof e.DataMap&&arguments.length>1&&"string"==typeof arguments[1]&&""!=arguments[1]?a.get(n,r):a}},each:function(e,t){for(var n=0,r=this.length;n<r&&e.call(t||this[n],this[n],n,r)!==!1;n+=1);},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){e<this.length&&e>=0&&this.splice(e,1)},getCount:function(){return this.length},parseString:function(t){t=e.parseJsonString(t),new Function("this.parseArray("+t+")").apply(this)},parseArray:function(t){for(var n=0;n<t.length;n++)t[n]&&e.isArray(t[n])?this.add(new e.DatasetList(t[n])):t[n]&&e.isObject(t[n])?this.add(new e.DataMap(t[n])):void 0!=t[n]&&null!=t[n]&&this.add(t[n])},clear:function(){this.length=0}}),e.DatasetList.prototype.toString=function(){for(var t=[],n="",r=0;r<this.length;r++)n="","undefined"==typeof this[r]||null==this[r]?n+='""':n="string"==typeof this[r]?'"'+e.parseJsonValue(this[r])+'"':this[r].toString(),t.push(n);return"["+t.join(",")+"]"},e.DatasetList.prototype.get=e.DatasetList.prototype.item,e.DatasetList.prototype.put=e.DatasetList.prototype.add}(window.Wade,window,document),/*!
 * format
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
function(e,t,n){"use strict";function r(e){var t=new Array,n=0,r=0,a=e.search(/yyyy/);a<0&&(a=e.search(/yy/)),a>=0&&(t[n]=a,n++);var i=e.search(/MM/);i<0&&(i=e.search(/M/)),i>=0&&(t[n]=i,n++);var s=e.search(/dd/);s<0&&(s=e.search(/d/)),s>=0&&(t[n]=s,n++);var o=e.search(/HH/);o<0&&(o=e.search(/H/)),o>=0&&(t[n]=o,n++);var c=e.search(/mm/);c<0&&(c=e.search(/m/)),c>=0&&(t[n]=c,n++);var u=e.search(/ss/);u<0&&(u=e.search(/s/)),u>=0&&(t[n]=u,n++);var l,d=new Array(a,i,s,o,c,u);for(n=0;n<t.length-1;n++)for(r=0;r<t.length-1-n;r++)t[r]>t[r+1]&&(l=t[r],t[r]=t[r+1],t[r+1]=l);for(n=0;n<t.length;n++)for(r=0;r<d.length;r++)t[n]==d[r]&&(d[r]=n);return d}e.format={trim:function(t){return e.trim(t)},ellipsis:function(e,t,n){if(e&&e.length>t){if(n){var r=e.substr(0,t-2),a=Math.max(r.lastIndexOf(" "),r.lastIndexOf("，"),r.lastIndexOf("。"),r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"));return a==-1||a<t-15?e.substr(0,t)+"...":r.substr(0,a)+"..."}return e.substr(0,t)+"..."}return e},undef:function(e){return void 0!==e?e:""},substr:function(e,t,n){return String(e).substr(t,n)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},fileSize:function(e){return e<1024?e+" bytes":e<1048576?Math.round(10*e/1024)/10+" KB":Math.round(10*e/1048576)/10+" MB"},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):e},htmlDecode:function(e){return e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},math:function(){var e={};return function(t,n){return e[n]||(e[n]=new Function("v","return v "+n+";")),e[n](t)}}(),number:function(e,t){if(!t)return e;if(isFinite(e)&&(e=parseFloat(e)),e=isNaN(e)?NaN:e,isNaN(e))return"";var n=",",r=".",a=!1,i=e<0;e=Math.abs(e),"/i"==t.substr(t.length-2)&&(t=t.substr(0,t.length-2),a=!0,n=".",r=",");var s=t.indexOf(n)!=-1,o=(a?t.replace(/[^\d\,]/g,""):t.replace(/[^\d\.]/g,"")).split(r);if(1<o.length)e=e.toFixed(o[1].length);else{if(2<o.length)throw"NumberFormatException: invalid format, formats should have no more than 1 period: "+t;e=e.toFixed(0)}var c=e.toString();if(o=c.split("."),s){for(var u=o[0],l=[],d=u.length,p=Math.floor(d/3),f=u.length%3||3,h=0;h<d;h+=f)0!=h&&(f=3),l[l.length]=u.substr(h,f),p-=1;c=l.join(n),o[1]&&(c+=r+o[1])}else o[1]&&(c=o[0]+r+o[1]);return(i?"-":"")+t.replace(/[\d,?\.?]+/,c)},nl2br:function(t){return t&&e.isString(t)?t.replace(nl2brRe,"<br/>"):""},toUtf8:function(e){return e?String(e).replace(/[^\u0000-\u00FF]/g,function(e){return escape(e).replace(/(%u)(\w{4})/gi,"&#x$2;")}):e},toGbk:function(e){return e?unescape(String(e).replace(/&#x/g,"%u").replace(/;/g,"")):e}},String.prototype.toDate=function(t){var n=e.trim(this);if(n){t=t||"yyyy-MM-dd HH:mm:ss";var a="([0-9]{4})",i="([0-9]{2})",s="(0[1-9]|1[0-2])",o="([1-9]|1[0-2])",c="(0[1-9]|[1-2][0-9]|30|31)",u="([1-9]|[1-2][0-9]|30|31)",l="([0-1][0-9]|20|21|22|23)",d="([0-9]|1[0-9]|20|21|22|23)",p="([0-5][0-9])",f="([0-9]|[1-5][0-9])",h="([0-5][0-9])",g="([0-9]|[1-5][0-9])",m=t;m=m.replace(/yyyy/,a).replace(/yy/,i).replace(/MM/,s).replace(/M/,o).replace(/dd/,c).replace(/d/,u).replace(/HH/,l).replace(/H/,d).replace(/mm/,p).replace(/m/,f).replace(/ss/,h).replace(/s/,g);var v=new RegExp("^"+m+"$"),y=v.test(n);if(y){var b,x=r(t),k=new Date,w=v.exec(n),M=x[0]>=0?w[x[0]+1]:k.getFullYear(),S=x[1]>=0?w[x[1]+1]-1:k.getMonth(),_=x[2]>=0?w[x[2]+1]:1,D=x[3]>=0?w[x[3]+1]:"",$=x[4]>=0?w[x[4]+1]:"",E=x[5]>=0?w[x[5]+1]:"";if(b=""==D?new Date(M,S,_):new Date(M,S,_,D,$,E),b.getDate()==_)return b}}},Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},n={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+n[this.getDay()+""]));for(var r in t)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[r]:("00"+t[r]).substr((""+t[r]).length)));return e}}(window.Wade,window,document),/*!
 * url params analyzer
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2011, WADE
 */
function(e,t,n){"use strict";function r(){this.map={}}function a(t,n){var a=e.extend({space:!0,number:!1},n),i=new r;return t&&e.isString(t)&&(t=t.substring(t.indexOf("?")+1),t=t.replace(/^[?#]/,""),t=t.replace(/[;&]$/,""),a.space&&(t=t.replace(/[+]/g," ")),e.each(t.split(/[&;]/),function(){var e=decodeURIComponent(this.split("=")[0]||""),t=decodeURIComponent(this.split("=")[1]||"");e&&(a.number&&(/^[+-]?[0-9]+\.[0-9]*$/.test(t)&&"0"!=t.indexOf(0)?t=parseFloat(t):/^[+-]?[0-9]+$/.test(t)&&"0"!=t.indexOf(0)&&(t=parseInt(t,10))),t=t||0===t?t:"",i.put(e,t))})),i}function i(){if(!s){var e=t.location.search,n=t.location.hash;s=a(e),n&&s.put("_hash",n)}return s}if(e&&"undefined"==typeof e.params){r.prototype={put:function(e,t){this.map[e]=t},get:function(e){return this.map[e]},remove:function(e){delete this.map[e]},eachKey:function(t){e.each(this.map,t)},toString:function(){var e=[];for(var t in this.map)e.push(t+"="+this.map[t]);return e.join("&")}};var s;e.params={load:function(e,t){return a(e,t)},get:function(e){return i(),s.get(e)},eachKey:function(e){return i(),s.eachKey(e)},toString:function(){return i(),s.toString()}}}}(window.Wade,window,document),/*!
 * template
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
function($,window,doc){"use strict";function _getHtmlTemplate(e,t){if(e&&e.length){var n=e.data("x-wade-template");if(!n){var r=e.find("*[x_tag=x-databind-template]");r.css("display",t?t:"block"),n=r.outerHtml(),n=n.replace(/([a-zA-Z_-]+)=(\{[a-zA-Z_-]+\})/g,function(e,t,n){return t+'="'+n+'"'}),e.data("x-wade-template",n),r.remove()}return n}}$.extend({getDom:function(e){return e&&document?e.nodeType?e:e.length&&e[0]&&e[0].nodeType?e[0]:"string"==typeof e?"#"!==e.substring(0,1)?document.getElementById(e):$.getDom(Wade(e)):null:null},insertHtml:function(e,t,n){return t&&"string"==typeof t&&"#"!==t.substring(0,1)&&(t=doc.getElementById(t)),"beforebegin"==e?Wade(t).before(n):"afterbegin"==e?Wade(t).prepend(n):"beforeend"==e?Wade(t).append(n):"afterend"==e?Wade(t).after(n):void 0},doInsert:function(e,t,n){this.insertHtml(e,t,n)},insertBefore:function(e,t){return this.doInsert("beforebegin",e,t)},insertAfter:function(e,t){return this.doInsert("afterend",e,t)},insertFirst:function(e,t){return this.doInsert("afterbegin",e,t)},append:function(e,t){return this.doInsert("beforeend",e,t)}}),$.Template=function(e){return this.applyTemplate?(e instanceof Array?e=e.join(""):arguments.length>1&&(e=Array.prototype.join.call(arguments,"")),void(this.html=e)):new $.Template(e)},$.Template.prototype={applyTemplate:function(e){var t=e&&$.isPlainObject(e.map)?e.map:e;if(this.compiled)return this.compiled(t);var n=this.disableFormats!==!0,r=$.format,a=this,i=function(e,i,s,o){if(s&&n){if("this."==s.substr(0,5))return a.call(s.substr(5),t[i]);if(o){var c=/^\s*['"](.*)["']\s*$/;o=o.split(",");for(var u=0,l=o.length;u<l;u+=1)o[u]=o[u].replace(c,"$1");o=[t[i]].concat(o)}else o=[t[i]];return r[s].apply(r,o)}return void 0!==t[i]?t[i]:""};return this.html.replace(this.re,i)},set:function(e,t){return this.html=e,this.compiled=null,t&&this.compile(),this},disableFormats:!1,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,compile:function(){var fm=$.format,useF=this.disableFormats!==!0,sep=$.browser.gecko?"+":",",fn=function(e,t,n,r){return n&&useF?(r=r?","+r:"","this."!=n.substr(0,5)?n="fm."+n+"(":(n='this.call("'+n.substr(5)+'", ',r="")):(r="",n="(values['"+t+"'] == undefined ? '' : "),"'"+sep+n+"values['"+t+"']"+r+")"+sep+"'"},body;return $.browser.gecko?body="this.compiled = function(values){ return '"+this.html.replace(/(\r\n|\n)/g,"\\n").replace("'","\\'").replace(this.re,fn)+"';};":(body=["this.compiled = function(values){ return ['"],body.push(this.html.replace(/(\r\n|\n)/g,"\\n").replace("'","\\'").replace(this.re,fn)),body.push("'].join('');};"),body=body.join("")),eval(body),this},call:function(e,t){return this[e](t)},insertFirst:function(e,t){return this.doInsert("afterbegin",e,t)},insertBefore:function(e,t){return this.doInsert("beforebegin",e,t)},insertAfter:function(e,t){return this.doInsert("afterend",e,t)},append:function(e,t){return this.doInsert("beforeend",e,t)},doInsert:function(e,t,n){return $.insertHtml(e,t,this.applyTemplate(n))}},$.Template.prototype.apply=$.Template.prototype.applyTemplate,$.DataMap.prototype.bind=function(e,t){e&&$.isString(e)&&"#"!=e.substring(0,1)&&(e="#"+e);var e=Wade(e);if(e&&e.length){var n=_getHtmlTemplate(e,t);if(n){e.empty();var r=$.Template(n);r.append(e[0],this.map),r=null}}},$.DatasetList.prototype.bind=function(e,t){e&&$.isString(e)&&"#"!=e.substring(0,1)&&(e="#"+e);var e=Wade(e);if(e&&e.length){var n=_getHtmlTemplate(e,t);if(n){var r=$.Template(n);e.empty();for(var a=0;a<this.length;a++)r.append(e[0],this.get(a).map);r=null}}}}(window.Wade,window,document),/*!
 * validate library for webframe
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2011, WADE
 */
function(e,t,n){"use strict";function r(t){void 0==t&&(t=n);var r=null;t&&t.nodeType?r=e("*[desc]",t).toArray():e.isString(t)&&(r=e("#"+t+" *[desc]").toArray());var a=!0;if(r&&r.length)for(var i,s=0;s<r.length;s++)if(i=r[s],!i.disabled&&e.attr(i,"desc")&&(e.validate.verifyField(i)||(a=!1),!a&&!e.validate.alerter.multiple))return!1;return r=null,a}function a(t){if(e.isElement(t)){var n=e(t).data("beforeValide"),r=e(t).data("beforeValideData");if(n&&e.isFunction(n))return n(r)}return!0}function i(t,n){if(e.isElement(t)){var r=e(t).data("afterValide"),a=e(t).data("afterValideData");if(r&&e.isFunction(r))return r(n,a)}return n}e&&"undefined"==typeof e.verifylib&&(e.verifylib={checkLength:function(t,n){return!t||!e.isString(t)||t.length==n},checkMinLength:function(t,n){return!(t&&e.isString(t)&&t.length<n)},checkMaxLength:function(t,n){return!(t&&e.isString(t)&&t.length>n)},checkInteger:function(e,t){return!(""!=e&&!/^(-|\+)?\d+$/.test(e))},checkPInteger:function(e){return!!(""==e||/^\d+$/.test(e)&&"0"!=e)},checkNInteger:function(e){return!(""!=e&&!/^-\d+$/.test(e))},checkNumeric:function(t,n){if(""!=t&&!/^(-|\+)?\d+(\.\d+)?$/.test(t))return!1;if(""!=t&&n&&e.isString(n)&&n.indexOf(".")!=-1&&t){var r=parseFloat(t);if(r<0&&(r=-r),r=r.toString(),r.indexOf(".")!=-1&&n.length-n.indexOf(".")<r.length-r.indexOf("."))return!1}return!0},checkNature:function(e){return!(""!=e&&!/^\d+$/.test(e))},checkNumberRange:function(e,t,n){return!(""!=e&&parseInt(e)<parseInt(t))&&!(""!=e&&parseInt(e)>parseInt(n))},checkNumbericRange:function(e,t,n){return!(e&&""!=e&&void 0!=t&&parseFloat(e)<parseFloat(t))&&!(e&&""!=e&&void 0!=n&&parseFloat(e)>parseFloat(n))},checkDate:function(t,n){if(!t||!n)return!0;n=e.trim(n).toUpperCase();var r;switch(n){case"YYYY":r=/^([1-2]\d{3})$/;break;case"YYYYMM":r=/^([1-2]\d{3})([0-1]?[0-9])$/;break;case"YYYY-MM":r=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])$/;break;case"YYYY/MM":r=/^([1-2]\d{3})(\/|\/)([0-1]?[0-9])$/;break;case"YYYYMMDD":r=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9])$/;break;case"YY-MM-DD":r=/^(\d{2})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9])$/;break;case"YYYY-MM-DD":r=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9])$/;break;case"YYYY/MM/DD":r=/^([1-2]\d{3})(\/|\/)([0-1]?[0-9])\2([0-3]?[0-9])$/;break;case"MM-DD":case"MM/DD":r=/^([0-1]?[0-9])(-|\/)([0-3]?[0-9])$/;break;case"HH":r=/^(\d{2})$/;break;case"HHMM":r=/^(\d{2})(\d{2})$/;break;case"HH:MM":r=/^(\d{2})(:)?(\d{2})$/;break;case"HHMMSS":r=/^(\d{2})(\d{2})(\d{2})$/;break;case"HH:MM:SS":r=/^(\d{2})(:)?(\d{2})\2(\d{2})$/;break;case"YYYYMMDD HH":r=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9]) (\d{2})$/;break;case"YYYY-MM-DD HH":r=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2})$/;break;case"YYYY/MM/DD HH":r=/^([1-2]\d{3})(\/|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2})$/;break;case"YYYYMMDD HHMM":r=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9]) (\d{2})(\d{2})$/;break;case"YYYY-MM-DD HH:MM":r=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2}):(\d{2})$/;break;case"YYYY/MM/DD HH:MM":r=/^([1-2]\d{3})(\/|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2}):(\d{2})$/;break;case"YYYYMMDD HHMMSS":r=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9]) (\d{2})(\d{2})(\d{2})$/;break;case"YYYYMMDDHHMMSS":r=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9])(\d{2})(\d{2})(\d{2})$/;break;case"YYYY-MM-DD HH:MM:SS":case"YYYY/MM/DD HH:MM:SS":r=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2}):(\d{2}):(\d{2})$/}return!!r&&r.test(t)},checkEmail:function(e){return!(""!=e&&!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e))},checkFile:function(t,n){if(""!=t&&e.isString(t)&&n&&e.isString(n)){for(var r=n.split(","),a=0;a<r.length;a++)if(t.toUpperCase().endsWith(r[a].toUpperCase()))return!0;return!1}return!0},checkMbphone:function(e){return!!(""==e||/^[0-9]+$/.test(e)&&e.length>7&&e.length<18)},checkPspt:function(t){if(""==t)return!0;if(t&&!e.isString(t))return e.lang.get("ui.validate.pspt1");var n,r=new Array(e.lang.get("ui.validate.pspt2"),e.lang.get("ui.validate.pspt3"),e.lang.get("ui.validate.pspt4"),e.lang.get("ui.validate.pspt5"),e.lang.get("ui.validate.pspt6"),e.lang.get("ui.validate.pspt7")),a={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},i=t,s=new Array;if("*"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)+"X"),s=i.split(""),!a[parseInt(i.substr(0,2),10)])return r[4];switch(i.length){case 15:if(n=(parseInt(i.substr(6,2))+1900)%4==0||(parseInt(i.substr(6,2))+1900)%100==0&&(parseInt(i.substr(6,2))+1900)%4==0?/^[1-9][0-9]{5}([0-9]{2})((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:/^[1-9][0-9]{5}([0-9]{2})((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-9]))[0-9]{3}$/,n.test(i)){var o=i.match(n),c=(new Date).getFullYear();return"object"==typeof o&&o instanceof Array&&o.length&&parseInt("19"+o[1].toString(),10)+100<c?!!confirm(r[5])||e.lang.get("ui.validate.nopass"):(o=null,!0)}return r[2];case 18:if(n=parseInt(i.substr(6,4))%4==0||parseInt(i.substr(6,4))%100==0&&parseInt(i.substr(6,4))%4==0?/^[1-9][0-9]{5}((19|20)[0-9]{2})((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:/^[1-9][0-9]{5}((19|20)[0-9]{2})((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-9]))[0-9]{3}[0-9Xx]$/,n.test(i)){var o=i.match(n),c=(new Date).getFullYear();return"object"==typeof o&&o instanceof Array&&o.length&&(o=parseInt(o[1],10),o+15>c||o+100<c)?!!confirm(r[5])||e.lang.get("ui.validate.nopass"):(o=null,!0)}return r[2];default:return r[1]}return!0},checkIp:function(e){return!(""!=e&&!/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e))},checkNumChar:function(e){return!(""!=e&&!/^[a-zA-Z0-9]+$/.test(e))},checkNumUChar:function(e){return!(""!=e&&!/^[A-Z0-9]+$/.test(e))},checkNumLChar:function(e){return!(""!=e&&!/^[a-z0-9]+$/.test(e))},checkCustName:function(e){var t=new RegExp('[,\'\\\\，\\/"":\\{\\}\\[\\]]+',"gi");return""==e||!t.test(e)},checkMoney:function(e){return!(""!=e&&!/^\d{1,12}(?:\.\d{1,4})?$/.test(e))},checkBoxNum:function(t){var n=!1;return e("input[name="+t+"]").each(function(){if(this.checked)return n=!0,!1}),n}},e.validate={verifyField:function(t){var r;if(!t)return!1;if(t.nodeType?r=t:e.isString(t)?r=n.getElementById(t):e.isObject(t)&&t.length&&(r=t[0]),!r||!r.nodeType)return e.validate.alerter.one(null,"dom element not found："+t),!1;var a=e(r),i=a.attr("desc"),s=a.val();if(e.isString(s)&&(s=e.trim(s)),!i)return e.validate.alerter.one(r,e.lang.get("ui.validate.desc1")),!1;if("no"==a.attr("nullable")&&("undefined"==typeof s||null==s||""==""+s)){if(!e.nodeName(r,"input")||!a.attr("name")||"checkbox"!=a.attr("type")&&"radio"!=a.attr("type"))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.desc3")),!1;if(!e.verifylib.checkBoxNum(a.attr("name")))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.desc2")),!1}if(a.attr("equsize")&&!e.verifylib.checkLength(s,a.attr("equsize")))return e.validate.alerter.one(r,e.lang.get("ui.validate.length1",i,a.attr("equsize"))),!1;if(a.attr("minsize")&&!e.verifylib.checkMinLength(s,a.attr("minsize")))return e.validate.alerter.one(r,e.lang.get("ui.validate.length2",i,a.attr("minsize"))),!1;if(a.attr("maxsize")&&!e.verifylib.checkMaxLength(s,a.attr("maxsize")))return e.validate.alerter.one(r,e.lang.get("ui.validate.length3",i,a.attr("maxsize"))),!1;var o,c=a.attr("datatype");switch(c){case"integer":if(!e.verifylib.checkInteger(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.int1")),!1;break;case"pinteger":if(!e.verifylib.checkPInteger(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.int2")),!1;break;case"ninteger":if(!e.verifylib.checkNInteger(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.int3")),!1;break;case"numeric":if(!e.verifylib.checkNumeric(s,a.attr("format")))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.int4")),!1;break;case"nature":if(!e.verifylib.checkNature(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.int5")),!1;break;case"date":var u=a.attr("format");if(u&&!e.verifylib.checkDate(s,u))return e.validate.alerter.one(r,e.lang.get("ui.validate.date1",i,"("+u+")")),!1;break;case"email":if(!e.verifylib.checkEmail(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.email")),!1;break;case"file":if(!e.verifylib.checkFile(s,a.attr("extname")))return e.validate.alerter.one(r,e.lang.get("ui.validate.filetype",i,"("+a.attr("extname")+")")),!1;break;case"mbphone":if(!e.verifylib.checkMbphone(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.phone")),!1;break;case"pspt":if(o=e.verifylib.checkPspt(s),!0!==o)return e.validate.alerter.one(r,o),!1;break;case"ip":if(!e.verifylib.checkIp(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.ip")),!1;break;case"numchar":if(!e.verifylib.checkNumChar(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.numchar1")),!1;break;case"numuchar":if(!e.verifylib.checkNumUChar(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.numchar2")),!1;break;case"numlchar":if(!e.verifylib.checkNumLChar(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.numchar3")),!1;break;case"custname":if(!e.verifylib.checkCustName(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.numchar4")),!1;break;case"money":if(!e.verifylib.checkMoney(s))return e.validate.alerter.one(r,i+e.lang.get("ui.validate.money")),!1}if(e.inArray(c,"numeric,integer,pinteger,ninteger,nature,money,date".split(","))>-1){var l=a.attr("min"),d=a.attr("max"),p=a.attr("minName"),f=a.attr("maxName"),u=a.attr("format"),h=a.attr("minFormat"),g=a.attr("maxFormat"),m=e("#"+p),v=e("#"+f),y=m.val(),b=m.attr("desc"),x=v.val(),k=v.attr("desc");m=v=null;var w,M,S,_;if("date"==c){if(s&&u){if(s=s.toDate(u),y&&b&&(w=y.toDate(h?h:u),M=b),l){var D=l.toDate(h?h:u);(!w||w<D)&&(w=D,M=l)}if(w&&M&&s<w)return e.validate.alerter.one(r,e.lang.get("ui.validate.date2",i,M)),!1;if(x&&k&&(S=x.toDate(g?g:u),_=k),d){var $=d.toDate(g?g:u);(!S||S>$)&&(S=$,_=d)}if(S&&_&&s>S)return e.validate.alerter.one(r,e.lang.get("ui.validate.date3",i,_)),!1}}else if(""!=s){if(s=parseFloat(s),void 0!=y&&""!=y&&b&&(w=parseFloat(y),M=b),void 0!=l&&""!=l&&e.isNumeric(l)&&(l=parseFloat(l),(void 0==w||w<l)&&(w=l,M=l)),w&&M&&s<w)return e.validate.alerter.one(r,e.lang.get("ui.validate.number9",i,M)),!1;if(void 0!=x&&""!=x&&k&&(S=parseFloat(x),_=k),void 0!=d&&""!=d&&e.isNumeric(d)&&(d=parseFloat(d),(void 0==S||S>d)&&(S=d,_=d)),S&&_&&s>S)return e.validate.alerter.one(r,e.lang.get("ui.validate.number10",i,_)),!1}}return!0},verifyAll:function(e){return r(e,!0)},verifyBox:function(t,n,r){return!!e.verifylib.checkBoxNum(n)||(r||(r=e.lang.get("ui.validate.choose")),e.validate.alerter.one(t,r),!1)},queryOper:function(e,t){return r(e),!0},confirmOper:function(e,n,a){return!(n&&!t.confirm(n))&&(r(e),!0)},queryAll:function(e,t){var n=!1;return a(e)&&r(e,!0)&&(n=!0),i(e,n),n},confirmAll:function(e,n,s){var o=!1;return a(e)&&r(e,!0)&&(n&&!t.confirm(n)||(o=!0)),i(e,o),o},queryBox:function(t,n){var r=!1;return a(t)&&e.validate.verifyBox(t,n)&&(r=!0),i(t,r),r},confirmBox:function(n,r,s){var o=!1;return a(n)&&e.validate.verifyBox(n,r)&&(s&&!t.confirm(s)||(o=!0)),i(n,o),o}},e.validate.alerter={multiple:!1,one:function(t,n){alert(n),t&&t.nodeType&&e(t).focus()}},e.each("verifyField,verifyAll,verifyBox,queryOper,confirmOper,queryAll,confirmAll,queryBox,confirmBox".split(","),function(n,r){t[r]=e.validate[r]}))}(window.Wade,window,document),/*!
 * File Transfer
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
function(e,t,n){"use strict";if(e&&"undefined"==typeof e.FileTransfer){var r=18e4,a=["Byte","KB","MB","GB","TB"],i="x-wade-filetransfer-download-frame",s=function(t,n){var a=this;a.timeout=r,a.file=n,e.extend(a,t)};s.prototype={handleEvent:function(e){var t=this;switch(e.type){case"load":t._load(e);break;case"progress":t._progress(e);break;case"readystatechange":t._readystatechange(e)}},send:function(){var n=this;if(!1!==n.done&&n.url&&n.file&&n.file.fileObject){n.xhr||(n.xhr=new XMLHttpRequest),n.done=!1,n.timeout>0&&setTimeout(function(){n.xhr&&!1===n.done&&_readystatechange("timeout")},n.timeout);var r=new FormData;r.append("file",n.file.fileObject),n.xhr.open("post",n.url+"&_="+Math.random(),!0),n._bind("readystatechange"),n._bind("progress",n.xhr.upload),n.xhr.send(r),n.start&&e.isFunction(n.start)&&n.start.call(n.context?n.context:t,n.file)}},abort:function(){var e=this;e.xhr&&!1===e.done&&(e.xhr.abort(),_readystatechange("abort"))},destroy:function(){var e=this;e.xhr&&(e.done||e.xhr.abort(),e._unbind("readystatechange"),e._unbind("progress",e.xhr.upload),e.xhr=null),e.context=null,e.url=null,e.start=null,e.success=null,e.error=null,e.progress=null},_readystatechange:function(n){var r=this;if(r.xhr&&0!==r.xhr.readyState&&"abort"!==n){if(!r.done&&r.xhr&&(4===r.xhr.readyState||"timeout"===n)){r.done=!0,r._unbind("readystatechange"),r._unbind("progress",r.xhr.upload);var a,i="timeout"===n?"timeout":r._httpSuccess()?"success":"error";if("success"===i)try{a=e.httpData(r.xhr,"json")}catch(s){var o=r.xhr.responseText;o&&e.isString(o)&&o.indexOf("FTP:")>-1?a={context:{x_resultcode:"-1",x_resultinfo:o.replace(/^[^`]+`([^`]+)`$/i,"$1")}}:i="parsererror"}"success"===i?r.success&&e.isFunction(r.success)&&r.success.call(r.context?r.context:t,a,i,r.file):r.error&&e.isFunction(r.error)&&r.error.call(r.context?r.context:t,i,"error",r.file)}}else{!r.done,r.done=!0,r.xhr&&(r._unbind("readystatechange"),r._unbind("progress",r.xhr.upload));var i="abort"===n?"abort":"error";r.error&&e.isFunction(r.error)&&r.error.call(r.context?r.context:t,i,r.file)}"timeout"==n&&r.xhr.abort()},_load:function(e){},_progress:function(n){var r=this;n.lengthComputable&&r.progress&&e.isFunction(r.progress)&&r.progress.call(r.context?r.context:t,n,r.file)},_bind:function(e,t,n){(t||this.xhr).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.xhr).removeEventListener(e,this,!!n)},_httpSuccess:function(){var e=this;return e.xhr&&(e.xhr.status>=200&&e.xhr.status<300||304===e.xhr.status||1223===e.xhr.status||0===e.xhr.status)}},e.extend(s,{humanSize:function(t){if((t||0===t)&&e.isNumber(t)){for(var n=0,r=a[0];t>1024;)t=Math.round(t/1024*100)/100,r=a[++n];return t+r}},mimeType:function(t){if(t&&(e.isString(t)||e.isArray(t))){for(var n,r,a=[],i=e.isArray(t)?t:(""+t).split(","),s=0,o=i.length;s<o;s++)r=e.trim((""+i[s]).replace(/\./gi," ")),(n=e.mime[r])&&a.push(n);return n=r=i=null,a.join(",")}},extName:function(t){if(t&&e.isString(t)){var n=t.lastIndexOf(".");return n>-1?t.substring(n).toLowerCase():void 0}},fileTypes:function(t){if(t&&e.isString(t)){for(var n=t.indexOf(";")>-1?t.split(";"):t.split(","),r=0;r<n.length;r++)""==e.trim(n[r])?splice.call(n,r--,1):(""+n[r]).indexOf(".")<0&&(n[r]="."+n[r]);return n}},download:function(t){if(t&&e.isString(t)){var r=n.getElementById(i);r&&r.nodeType?r.src=t:e(n.body).append('<iframe id="'+i+'" name="'+i+'" src="'+t+'" style="width:0px;height:0px;display:none;"></iframe>'),r=null}}}),e.FileTransfer=s}}(window.Wade,window,document),/*!
 * rpc
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
function(e,t,n){"use strict";if(e&&"undefined"==typeof e.RPC){var r=!1,a=35,i=(new Date).getTime(),s={DATA:2,OK:1,CONTINUE:0,ERROR:-1,RETRY:-2,STOP:-3},o=/\?/,c=Object.prototype.toString,u=function(n){("undefined"!=typeof e.RPC&&!0===e.RPC.DEBUG||!0===r)&&t.console&&t.console.log(n)},l=function(t){var n=this;e.extend(n,t),n._init()};l.prototype={handleEvent:function(e){var t=this;switch(e.type){case"open":t._socketOpen(e);break;case"close":t._socketClose(e);break;case"message":t._socketMessage(e);break;case"error":!e.message&&t.socket&&"1"!=t.socket.readyState&&alert("the websocket connection to "+t.address+" is not connected"),t._socketError(e)}},open:function(){var e=this;e._handle("open",arguments)},close:function(){var e=this;e._handle("close",arguments)},send:function(e){var t=this;t._handle("send",arguments)},destroy:function(){var e=this;e.socket&&(e._unbind("open"),e._unbind("close"),e._unbind("message"),e._unbind("error")),e.close()},_init:function(){var n=this;n.address&&e.isString(n.address)||e.error('RPC "address" is illegal property'),n.session&&e.isString(n.session)||e.error('RPC "session" is illegal property'),n.protocal=0==n.address.indexOf("http://")||0==n.address.indexOf("https://")?"http":0==n.address.indexOf("ws://")||0==n.address.indexOf("wss://")?"websocket":null,n.protocal||e.error("RPC unknown protocal"),n.xhr=!("xhr"!=n.type||!t.XDomainRequest&&!t.XMLHttpRequest),o.test(n.session)||(n.session="?"+(0==n.session.indexOf("&")?n.session.substring(1):n.session)),n.isClose=!0},_handle:function(t,n){var r=this;if(t&&e.isString(t)&&r.protocal){var a=r["_"+r.protocal.toUpperCase()+"_"+t.toUpperCase()];a&&"[object Function]"===c.call(a)&&a.apply(r,n)}},_socketOpen:function(e){var t=this;u("websocket opend"),t._WEBSOCKET_SEND(t.session)},_socketClose:function(e){var t=this;u("websocket closed"),t.isClose=!0},_socketMessage:function(e){var t=this;u("websocket message"),t._WEBSOCKET_RECIVE(e.data)},_socketError:function(e){u(e.message)},_bind:function(e,t,n){(t||this.socket).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.socket).removeEventListener(e,this,!!n)},_HTTP_OPEN:function(){var e=this;!0===e.isClose&&(e.jsonp=d(e.xhr,e.address+e.session,function(t){e._HTTP_RECIVE(t)}),e.isClose=!1,u("http opend"))},_HTTP_SEND:function(e){},_HTTP_RECIVE:function(t){var n=this;if(u("http message:"+t),t&&e.isArray(t)&&!(t.length<2)){var r=t[0];switch(r.X_RESULTCODE){case s.DATA:n.jsonp=d(n.xhr,n.address+n.session,function(e){n._HTTP_RECIVE(e)}),n.message&&e.isFunction(n.message)&&n.message(t[1]);break;case s.CONTINUE:n.jsonp=d(n.xhr,n.address+n.session,function(e){n._HTTP_RECIVE(e)});break;case s.ERROR:e.error(r.X_RESULTINFO)}}},_HTTP_CLOSE:function(){var e=this,n=e.jsonp;if(n){t[n]=void 0;try{delete t[n]}catch(r){}}e.isClose=!0,u("http closed")},_WEBSOCKET_OPEN:function(){var e=this;!0===e.isClose&&(e.socket||(e.socket=new t.WebSocket(e.address),e._bind("open"),e._bind("close"),e._bind("message"),e._bind("error")))},_WEBSOCKET_SEND:function(e){var t=this;t.socket&&(u("websocket send data:"+e),t.socket.send(e))},_WEBSOCKET_RECIVE:function(n){var r=this;if(u("message:"+n),n&&e.isString(n)){var a;try{a=t.JSON&&t.JSON.parse?t.JSON.parse(n):new Function("return "+n)()}catch(i){u("websocket recive parse error:"+i)}if(a&&e.isArray(a)&&!(a.length<2)){var o=a[0];switch(o.X_RESULTCODE){case s.DATA:r.message&&e.isFunction(r.message)&&r.message(a[1]);break;case s.ERROR:e.error(o.X_RESULTINFO)}}}},_WEBSOCKET_CLOSE:function(){var e=this;e.socket&&(e.socket.close(),e.isClose=!0)}};var d=function(t,n,r,a){1==t?e.browser.msie&&e.browser.version<=8?p(n,r,a):g(n,r,a):y(n,r,a)},p=function(e,t,n){alert("not support")},f=function(){},h=function(e){try{return e.status>=200&&e.status<300||304===e.status||1223===e.status||0===e.status}catch(t){}return!1},g=function(t,n,r){var i,s=("undefined"!=typeof e.RPC&&e.RPC.TIMEOUT_SECOND?e.RPC.TIMEOUT_SECOND:a,!1),o=new XMLHttpRequest;o.open("GET",t,!0);var l=function(t){var r;try{r=e.parseJSON(t)}catch(a){alert("RPC XHR Request: parse jsonString error")}"[object Function]"===c.call(n)&&n(r)},d=function(e,n){alert("RPC XHR Request: request to "+t+" error, status: "+e+(n?" "+n:""))},p=o.onreadystatechange=function(e){o&&0!==o.readyState&&"abort"!==e?s||!o||4!==o.readyState&&"timeout"!==e||(s=!0,o.onreadystatechange=f,i="timeout"===e?"timeout":h(o)?"success":"error","success"===i?l(o.responseText):d(o.status,i),"timeout"===e&&o.abort(),o=null):(s=!0,o&&(o.onreadystatechange=f))};try{var g=o.abort;o.abort=function(){o&&g.call(o),p("abort")}}catch(m){}u("xhr request url:"+t);try{o.send()}catch(m){d(null,m.message)}},m={},v=document.getElementsByTagName("head")[0]||document.documentElement,y=function(n,r,a){if(n&&e.isString(n)){var s,l,d=i++,p="_wade_rpc_jsonp_"+d,f="_wade_rpc_abort_"+d;n+=(o.test(n)?"&":"?")+"callback="+p,u("http connect:"+n);var h=document.createElement("script");h.async="async",t[p]=function(e){"[object Function]"===c.call(r)&&r(e)},s=t[p],t[p]=function(){l=arguments},m[f]=function(){h&&h.onload(0,1)};var g=function(){t[p]=s,l&&"[object Function]"===c.call(s)&&s(l[0]),l=s=void 0};return h.src=n,h.onload=h.onreadystatechange=function(e,t){(t||!h.readyState||/loaded|complete/.test(h.readyState))&&(h.onload=h.onreadystatechange=null,v&&h.parentNode&&v.removeChild(h),h=void 0,t||(delete m[f],g(200,"success")))},v.insertBefore(h,v.firstChild),p}};e.browser.msie&&e(t).unload(function(){for(var e in m)m[e](0,1)}),t.RPC=e.RPC=l}}(window.Wade,window,document);