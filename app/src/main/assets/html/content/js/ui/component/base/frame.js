/*!
 * frame component
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
!function(t,e,i){"use strict";if(t&&"undefined"==typeof t.Frame){var n=function(e,n){var r=this;r.el=e&&1==e.nodeType?e:i.getElementById(e),r.el&&r.el.nodeType&&(r.id=t.attr(r.el,"id"))&&(n&&t.isObject(n)&&t.extend(r,n),t.attr(r.el,"x-wade-uicomponent")||t.attr(r.el,"x-wade-uicomponent","frame"),r._init(),r.constructor.call(r))};n.prototype=t.extend(new t.UIComponent,{init:function(){var e=this;!0!==e.inited&&(e.page&&t.isString(e.page)?(e.redirect(e.page,e.listener,e.params,e.subsys),e.inited=!0):e.src&&t.isString(e.src)&&(e.redirectByUrl(e.src),e.inited=!0))},focus:function(){var t=this,e=t.el.contentWindow;try{e&&e.focus()}catch(i){}e=null},reload:function(){var t=this;t.redirect(t.page,t.listener,t.params,t.subsys)},redirect:function(e,i,n,r){var l=this;e&&t.isString(e)&&(l.beginLoading(),l.el.src=t.redirect.buildUrl(r,e,i,n))},reset:function(e,i,n,r,l){var a=this;if(e&&t.isString(e)){var s=t.md5(e+i+n+r)!==t.md5(a.page+a.listener+a.params+a.subsys);return s&&(a.page=e,a.listener=i,a.params=n,a.subsys=r,a.inited=!1,a.beginLoading()),l&&(a.title=l),s}},reloadByUrl:function(){var t=this;t.redirectByUrl(t.src)},redirectByUrl:function(e){var i=this;e&&t.isString(e)&&(i.beginLoading(),i.el.src=e)},resetByUrl:function(e,i){var n=this;if(e&&t.isString(e)){var r=t.md5(e)!==t.md5(n.src);return r&&(n.src=e,n.inited=!1,n.beginLoading()),i&&(n.title=i),r}},setAttribute:function(e,i,n){var r=this;e&&t.isString(e)&&i&&t.isString(i)&&(t.attr(r.el,e,i),!0===n&&(r[e]=i))},beginLoading:function(e){var i=this;e&&t.isString(e)&&(i.loadingTxtEl.innerHTML=e),i.el.style.display="none",i.loadingEl.style.display="",i.loading=!0},endLoading:function(){var t=this;t.loadingEl.style.display="none",t.el.style.display="",t.loading=!1},adjust:function(){var t=this,e=t.el.contentWindow;try{e&&e.document&&e.$&&e.$.expando&&(e.$.Scroller&&e.$.Scroller.refresh(),e.$.Table&&e.$.Table.adjust())}catch(i){console.log(i)}finally{e=null}},destroy:function(){var t=this;t.loadingEl=null,t.loadingTxtEl=null,t.el=null},_init:function(){var i=this;i.loadingEl=t(i.el).next("div.c_msg-loading:first")[0],i.loadingTxtEl=t(i.loadingEl).find("div.title:first")[0],"none"!=i.el.style.display&&(i.el.style.display="none"),t(i.el).bind(t.browser.msie&&e.attachEvent?"readystatechange":"load",function(n){if((!t.browser.msie||!e.attachEvent||"complete"==this.readyState)&&(!0===i.loading&&i.endLoading(),i.title&&t.isString(i.title))){var r=i.el.contentWindow;try{r&&r.document&&r.$&&r.$.expando&&(r.$("div[class=c_header]:first",r.document.body).find("div[class=back]:first").text(i.title),r.$.Scroller&&r.$.Scroller.refresh(),r.$.Table&&r.$.Table.adjust(),t.browser.msie&&r.$("input,textarea,select").each(function(){this.readOnly&&(this.onfocus=function(){this.blur()})}))}catch(l){console.log(l)}finally{r=null}}}),!0===i.autoInit&&i.init()}}),e.Frame=t.Frame=n}}(window.Wade,window,document);