/*!
 * slide component
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
!function(e,t,n){"use strict";if(e&&"undefined"==typeof e.Slide){var l=function(t,l){var i=this;i.el=t&&1==t.nodeType?t:n.getElementById(t),i.el&&i.el.nodeType&&(i.id=e.attr(i.el,"id"))&&(l&&e.isObject(l)&&e.extend(i,l),e.attr(i.el,"x-wade-uicomponent")||e.attr(i.el,"x-wade-uicomponent","slide"),i._init(),i.constructor.call(i))};l.prototype=e.extend(new e.UIComponent,{destroy:function(){var e=this;e.pic=null,e.picUL=null,e.page=null,e.fn=null,e.btnPrev=null,e.btnNext=null,e.thumb=null,e.thumbUL=null,e.thumbPrev=null,e.thumbNext=null,e.el=null},_init:function(){var t=this;if(t.pic=e(t.el).children("div.pic:first")[0],t.picUL=e(t.pic).children("ul:first")[0],t.page=e(t.el).children("div.page:first")[0],t.fn=e(t.el).children("div.fn:first")[0],t.btnPrev=e(t.fn).children("span.prev:first")[0],t.btnNext=e(t.fn).children("span.next:first")[0],t.thumb=e(t.el).children("div.thumb:first")[0],t.thumb&&(t.thumbUL=e(t.thumb).find("ul:first")[0],t.thumbPrev=e(t.thumb).children("div.prev:first")[0],t.thumbNext=e(t.thumb).children("div.next:first")[0]),e(t.picUL).children("li").each(function(n,l){e(t.page).append("<span"+(0==n?' class="on"':"")+"></span>")}),t.scroller=new e.Scroll(t.pic,{snap:!0,momentum:!1,hScrollbar:!1,onScrollEnd:function(){e("span[class=on]",t.page).attr("className",""),e("span:nth-child("+(this.currPageX+1)+")",t.page).attr("className","on"),t.useThumb&&(e("li[class=on]",t.thumbUL).attr("className",""),e("li:nth-child("+(this.currPageX+1)+")",t.thumbUL).attr("className","on"))}}),t.useThumb){var n;e("img",t.picUL).each(function(l){n=e.attr(this,"src"),e(t.thumbUL).append('<li idx="'+l+'" '+(0==l?' class="on"':"")+'><img src="'+n+'" /></li>')}),t.page.style.display="none"}e(t.btnPrev).tap(function(){t.scroller.scrollToPage("prev",0)}),e(t.btnNext).tap(function(){t.scroller.scrollToPage("next",0)}),t.useThumb&&(e(t.thumbUL).tap(function(n){n.originalEvent&&(n=e.event.fix(n.originalEvent));var l=n.target;if(l&&l.nodeType&&(e.nodeName(l,"img")&&(l=l.parentNode),e.nodeName(l,"li"))){var i=e.attr(l,"idx");/^\d+$/gi.test(i)&&t.scroller.scrollToPage(i,0)}}),e(t.thumbPrev).tap(function(){t.scroller.scrollToPage("prev",0)}),e(t.thumbNext).tap(function(){t.scroller.scrollToPage("next",0)}))}}),t.Slide=e.Slide=l}}(window.Wade,window,document);