/*!
 * star component
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
!function(e,a,t){"use strict";if(e&&"undefined"==typeof e.Star){var n=function(a,n){var s=this;s.el=a&&1==a.nodeType?a:t.getElementById(a),s.el&&s.el.nodeType&&(s.id=e.attr(s.el,"id"))&&(n&&e.isObject(n)&&e.extend(s,n),e.attr(s.el,"x-wade-uicomponent")||e.attr(s.el,"x-wade-uicomponent","star"),s._init(),s.constructor.call(s))};n.prototype=e.extend(new e.UIComponent,{val:function(a){var t=this;if(void 0==a)return t.value;if(/^[0-5]$/gi.test(a)&&a!=t.value){var n=t.span.className=t.span.className?t.span.className:"";n=e.trim((" "+n+" ").replace(/ e_star-\d+ /gi," ")),t.span.className=n+" e_star-"+a,t.value=a,t.el.value=a}},getReadonly:function(){var e=this;return e.readonly},setReadonly:function(a){var t=this;t.readonly=!!a;var n=t.span.className?t.span.className:"";!t.readonly&&(" "+n+" ").indexOf(" e_star-edit ")<0&&(t.span.className=e.trim(n+" e_star-edit"))},getDisabled:function(){var e=this;return e.disabled},setDisabled:function(a){var t=this;t.disabled=!!a;var n=t.span.className?t.span.className:"";t.disabled?(" "+n+" ").indexOf(" e_dis ")<0&&(t.span.className=e.trim(n+" e_dis")):(n=e.trim((" "+n+" ").replace(/ e_dis /gi," ")),t.span.className=n)},destroy:function(){var e=this;e.span=null,e.el=null},_init:function(){var a=this;a.span=e(a.el).parent("span.e_star:first")[0];var t=e.attr(a.span,"id");t||(t=a.id+"_span",e.attr(a.span,"id",t)),e.attr(a.el,"x-visible-element",t),a.readonly&&a.setReadonly(!0),a.disabled&&a.setDisabled(!0),e(a.span).tap(function(t){if(!a.disabled&&!a.readonly){var n=t.target;if(n&&1==n.nodeType&&e.nodeName(n,"span")){var s=e.attr(n,"val");void 0!=s&&(a.val(s),e.event.trigger({type:"change",originalEvent:t.originalEvent},null,a.el))}}})}}),a.Star=e.Star=n}}(window.Wade,window,document);